<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">
<div th:insert="~{/header :: commonFragment}"></div>
<head>
  <meta charset="UTF-8">
  <title>회원가입</title>
  <link rel="stylesheet" type="text/css" href="css/public_settings.css">
  <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
  <script th:src="@{/js/register.js}"></script>

  <style th:inline="text">
        @media (max-width:768px) {
            .btn-purple {
                width:100%;
            }
        }
        /* 비활성화된 버튼의 스타일 */
        #btnid:disabled {
          background-color: rgb(151, 211, 179); /* 더 밝은 색 */
          color:rgb(215, 222, 228);
        }

        /* 활성화된 버튼의 스타일 */
        #btnid:enabled {
          background-color: #7ada7a; /* 더 진한 색 */
          color:white;
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">


<div th:insert="~{/header :: navFragment}"></div>
<div class="container public-settings">
  <form role="form" action="signup" th:action="@{/signup}">
    <div class="card w-100 p-3 mt-3 justify-content-sm-center align-items-sm-center">
      <div class="form-group">
        <div class="card-header text-center">회원가입 약관</div>
        <div class="card-body" style="font-size: 16px;">
          <label class="checkbox-inline">
            <input type="checkbox" name="agreeAll" id="agreeAll" value="true">전체 동의합니다.
          </label>
          <div class="col-lg-12">
            <div class="card w-100 p-3">
              <label class="checkbox-inline">
                <input type="checkbox" name="agree" value="true" required="required">전자상거래 표준약관<span class="text-success">(필수)</span>
              </label>
              <p class="card-text" style="overflow: scroll; height: 200px;">
                제1조(목적) 본 회원약관은 무기사(이하 '갑'라 한다)이 운영하는 인터넷관련 서비스(이하 '서비스'라
                한다)를 이용함에 있어 관리자와 이용자(이하 '회원'라 한다)의 권리, 의무 및 책임사항을 규정함을 목적으로
                한다.<br> 제2조 (약관의 효력) 1.본 약관은 '갑'에 회원 가입 시 회원들에게 통지함으로써 효력을
                발생합니다. 2.'갑'은 이 약관의 내용을 변경할 수 있으며, 변경된 약관은 제1항과 같은 방법으로 공지 또는
                통지함으로써 효력을 발생합니다. 3.약관의 변경사항 및 내용은 '갑'의 홈페이지에 게시하는 방법으로 공시합니다.<br>
                제3조 (약관 이외의 준칙) 이 약관에 명시되지 않은 사항이 전기 통신 기본법, 전기통신 사업법, 기타 관련
                법령에 규정되어 있는 경우 그 규정에 따릅니다.<br> 제4조 (이용계약의 체결) 회원 가입 시 회원
                약관 밑에 있는 동의버튼을 누르면 약관에 동의하여 이 계약이 체결된 것으로 간주한다. <br>제5조
                (용어의 정의) 이 약관에서 사용하는 용어의 정의는 다음과 같습니다. 1.회원: '갑'과 서비스 이용에 관한
                계약을 체결한 자 2.아이디(ID): 회원 식별과 회원의 서비스 이용을 위하여 회원이 선정하고 '갑'이 승인하는
                문자와 숫자의 조합 3.비밀번호: 회원이 통신상의 자신의 비밀을 보호하기 위해 선정한 문자와 숫자의 조합 <br>제6조
                (이용신청) 1.회원 가입은 온라인으로 가입신청 양식에 기록하여 '갑'에 제출함으로써 이용신청을 할 수 있습니다.
                2.가입희망 회원은 반드시 자신의 본명 및 핸드폰번호로 이용신청을 하여야 하며, 1개의 ID만 신청을 할 수
                있습니다.
              </p>
            </div>

          </div>


            <div class="col-lg-12">
              <div class="card w-100 p-3 mt-3">
                <label class="checkbox-inline">
                  <input type="checkbox" name="agree" value="true" required="required">개인정보<span class="text-success">(필수)</span>
                </label>
                <p class="card-text" style="overflow: scroll; height: 200px;">
                  너 Tea야?('Are you Tea?')은(는) 「개인정보 보호법」
                    제30조에 따라 정보주체의 개인정보를 보호하고 이와 관련한 고충을 신속하게 처리할 수 있도록 하기 위하여
                    다음과 같이 개인정보 처리방침을 수립·공개합니다. ○ 이 개인정보처리방침은 2023년 12월 19부터 적용됩니다.
                    <br>
                    제1조(개인정보의 처리 목적)너 Tea야?('Are you Tea?')은(는) 다음의 목적을 위하여 개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적 이외의
                      용도로는 이용되지 않으며 이용 목적이 변경되는 경우에는 「개인정보 보호법」 제18조에 따라 별도의 동의를 받는 등
                      필요한 조치를 이행할 예정입니다. 1. 홈페이지 회원가입 및 관리 회원 가입의사 확인, 회원제 서비스 제공에 따른
                      본인 식별·인증, 회원자격 유지·관리, 서비스 부정이용 방지, 만14세 미만 아동의 개인정보 처리 시 법정대리인의
                      동의여부 확인, 각종 고지·통지 목적으로 개인정보를 처리합니다. <br>
                      2. 민원사무 처리 민원사항 확인, 처리결과 통보 목적으로 개인정보를 처리합니다. <br>
                      3. 재화 또는 서비스 제공 서비스 제공, 요금결제·정산을 목적으로 개인정보를 처리합니다. <br>
                      4. 마케팅 및 광고에의 활용 서비스의 유효성 확인 등을 목적으로 개인정보를 처리합니다.

                </p>


            </div>
          </div>
        </div>


        <div class="col-xs-6" style="text-align: center;">
          <button type="submit" id="btnid" class="btn btn-lg text-light" style="width:300px; height: 50px;">확인</button>
        </div>
      </div>
    </div>
  </form>
</div>

<div th:insert="~{/footer :: footerFragment}"></div>

  <script>

    // 'btnid'라는 id를 가진 버튼 요소를 찾습니다.
    var button = document.getElementById("btnid");

    // 'checkAll' 함수는 'agreeAll' 체크박스의 상태에 따라 
    // 모든 'agree' 체크박스를 체크하거나 체크 해제하고, 버튼의 활성화 상태를 변경합니다.
    function checkAll() {
      var agreeAll = document.getElementById("agreeAll");
      var agrees = document.getElementsByName("agree");

      if (agreeAll.checked) {
        for (var i = 0; i < agrees.length; i++) {
          agrees[i].checked = true;
        }
        // 모든 체크박스가 체크되면 버튼을 활성화합니다.
        button.disabled = false;
      } else {
        for (var i = 0; i < agrees.length; i++) {
          agrees[i].checked = false;
        }
        // 모든 체크박스가 체크 해제되면 버튼을 비활성화합니다[^1^][1].
        button.disabled = true;
      }
    }



    // 'checkEach' 함수는 각 'agree' 체크박스의 상태를 확인하고, 
    // 모든 체크박스가 체크되면 'agreeAll' 체크박스를 체크하고 버튼을 활성화하며,
    // 그렇지 않으면 버튼을 비활성화합니다.
    function checkEach() {
      var agreeAll = document.getElementById("agreeAll");
      var agrees = document.getElementsByName("agree");
      var selectedCount = 0;

      for (var i = 0; i < agrees.length; i++) {
        if (agrees[i].checked) {
          selectedCount++;
        }
      }
      if (selectedCount === agrees.length) {
        agreeAll.checked = true;
        // 모든 체크박스가 체크되면 버튼을 활성화합니다.
        button.disabled = false;
      } else {
        agreeAll.checked = false;
        // 하나라도 체크되지 않으면 버튼을 비활성화합니다.
        button.disabled = true;
      }
    }
    
    // 페이지가 로드될 때 버튼을 비활성화하고, 'agreeAll' 체크박스와 각 'agree' 체크박스에 이벤트 핸들러를 연결합니다.
    window.onload = function() {
      button.disabled = true;
      document.getElementById("agreeAll").onclick = checkAll;
      var agrees = document.getElementsByName("agree");
      for (var i = 0; i < agrees.length; i++) {
        agrees[i].onclick = checkEach;
      }
    }
  </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/main_scripts.js"></script>
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>
</html>
